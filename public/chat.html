<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" >
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/sidenav.css">
    <title>Chat | ChatApp</title>
</head>
<body class='chat'>
    <div class="chat__sidebar">
        <h3>People</h3>
        <div id="users"></div>

    </div>
    <div class="chat__main">
            <div class="header">
            
                       <div style="">
                           <p id="roomName"></p>
                       </div>
                       
                           <div class="header-btns" style=" text-align: right;">
                               <button id="sidenavBtn" >People</button>
                               <button id="btn-leave" style="background-color: rgba(153, 12, 7, 0.849); ">Leave room</button>
                           </div>
                       
               
                            
                      <!-- &#9776; hamburg button code -->
                       <!-- sideavn -->
                <div id="sidenavDiv" class="sidenav">
                    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
                      <h3>People</h3>
                    <div id="sidenavPeopleDiv" class=""></div>
            </div>
            </div>

            <ol id="messages" class="chat__messages"></ol>
            <div class="chat__footer">
                    <form id="message-form">
                            <input type="text" name="message" id="message-input" placeholder="Message" autofocus autocomplete="off"> <br>
                            <button type="submit">Send</button>
                        </form>
                    <button id="send-location">Send location</button>
            </div>     
    </div>

    <!-- mustache template ,inline style is added myself(ab) -->
    <script id="message-template" type="text/template">
        
    <li class="message" style="background-color:#f5f5f5; padding:15px; margin:10px; color:{{textColor}}; border-radius:15px; float: left;  clear: left;  ">
        <div class="message__title">
            <h4 style='color:blue'>{{message.from}}</h4>
            <span style='color:blue'>{{message.createdAt}}</span>
        </div>
        <div class="message__body" >
            <p style="font-size;" >{{message.text}}</p>
        </div>
    </li>
    </script>
    
    <script id="location-message-template" type="text/template">
        <li class="message" style="background-color:#f5f5f5; padding:15px; margin:10px; border-radius:15px; float: left;  clear: left; ">
            <div class="message__title">
                <h4 style='color:blue'>{{from}}</h4>
                <span style='color:blue'>{{createdAt}}</span>
            </div>
            <div class="message__body" >
                <a href="{{url}}" target="_blank">My current location</a>
            </div>
        </li>
        </script>
    
   


<script src="/socket.io/socket.io.js">
//above file path is relative server

//setting a socketIO server we have following cool things 1. acceess to a route that accepts incoming connections 2.we have access to a javascript library that makes woking easy with socket io on client we need this library(http://localhost:3000/socket.io/socket.io.js) on client to make connections and transfer data, we have loaded this library already
</script>
<script src="js/libs/jquery-3.4.1.min.js"></script>
<script src="js/libs/moment.js"></script>
<script src="js/libs/mustache.js"></script>
<script src="js/libs/deparam.js"></script>
<script src="js/chat.js"></script>
<script src="js/libs/sidenav.js"></script>

</body>
</html>